<html>
    <head>
        <title>
            Huffman Demo
        </title>

        <style>
            div {
                word-wrap: break-word;
                font-size:12px;
            }
            #compressMe {
                background: #fdd;
            }

            #compressed {
                background: #ddd;
            }

            #uncompressed {
                background: #dfd;
            }

        </style>

        <script src="Integer.js"></script>
        <script src="Bitstring.js"></script>
        <script src="PriorityQueue.js"></script>
        <script src="Package.js"></script>
        <script src="Huffman.js"></script>
        
        
        <script>
            window.onload = function() {
                
                // Get the main divs
                var toBeCompressedDiv = document.getElementById('compressMe');
                var compressedDiv = document.getElementById('compressed');
                var uncompressedDiv = document.getElementById('uncompressed');
                var statsDiv = document.getElementById('statistics');

                
                // get input text
                var text = toBeCompressedDiv.innerHTML;
            
                
                // compress and uncompress the text
                var huffmanObj = new Huffman();
                var ans = huffmanObj.huffmanDemo(text);
                
                
                // display the results and statistics
                compressedDiv.innerHTML = ans.packedBitstring;
                uncompressedDiv.innerHTML = ans.uncompressed;
            
                var origSize = text.length;
                var newSize = ans.packedBitstring.numBits / 8;
                var compression = (100.*newSize/origSize) + '%';
                var statsStr = origSize + " bytes -> " + newSize + " bytes" +
                    "<br>" +
                    "Compressed to " + compression + " of original size";
                statsDiv.innerHTML = statsStr;
                
            }
        </script>
        
    </head>

    <body>
        <h1>Huffman Coding Demo</h1>
<pre>
Dan McArdle
7/6/12
</pre>

        <h2>Statistics</h2>
        <div id="statistics">
        </div>

        <h2>Input Text</h2>
        <div id="compressMe">
<p>
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque vel feugiat neque. Donec felis lectus, consequat quis consequat vitae, venenatis non libero. Integer eleifend semper est, nec dictum lectus sagittis eget. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Proin pellentesque scelerisque dui quis iaculis. Mauris laoreet auctor arcu vel facilisis. Fusce eu mi odio, quis fringilla arcu. Sed volutpat turpis sit amet orci faucibus molestie. Ut placerat nulla vitae diam dapibus mattis. Praesent at erat lectus. Nulla sed pulvinar tortor. Nam quam ipsum, interdum ac iaculis id, vehicula id erat.
</p>

<p>
Pellentesque arcu orci, interdum in gravida eu, dictum nec tellus. Vivamus lobortis nisl a ante scelerisque convallis scelerisque turpis aliquet. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Aliquam in varius ipsum. Aenean egestas magna in justo pharetra ac rutrum leo posuere. Duis facilisis pulvinar diam, vel pellentesque nulla mollis sed. Sed tincidunt consectetur arcu sit amet rutrum. In in lectus nisl, at hendrerit nisi. In tempor tincidunt neque, nec varius elit dictum vitae. Curabitur at tortor neque. Pellentesque gravida dui at lectus dictum ornare. Quisque ac nulla at nibh adipiscing molestie eget vitae tortor.
</p>

<p>
Aliquam tempor, magna ut vestibulum tincidunt, diam urna lobortis arcu, quis ultricies lorem mi quis lacus. Donec nulla felis, lacinia sit amet bibendum rhoncus, placerat et massa. Maecenas non elit sit amet mauris ullamcorper lacinia adipiscing eget mi. Mauris hendrerit elit nunc, et eleifend metus. Integer odio eros, luctus sit amet pharetra ut, consectetur a quam. Integer quis dui nunc, a iaculis elit. Morbi aliquet rutrum tortor, id pulvinar nisl mattis eu. Phasellus id nisi a lorem ornare pulvinar id a nunc. Suspendisse dictum neque at purus bibendum ultricies. Fusce at libero et leo euismod venenatis eget ornare sapien. Sed commodo, dolor ac blandit vehicula, ante dolor elementum arcu, quis varius ante magna ac metus. Integer luctus tristique tellus ut auctor.
</p>

<p>
In convallis, quam at accumsan consequat, odio orci sollicitudin odio, sed porta dolor erat vel eros. Sed lobortis, sem vel aliquet blandit, ipsum nibh aliquam felis, non euismod lectus eros pretium nisi. Proin auctor justo mauris, non rutrum risus. Donec quis massa felis, eget adipiscing nisl. Integer eu sem nulla, a scelerisque lacus. Maecenas hendrerit justo sit amet sapien iaculis ac tristique velit egestas. Nunc vestibulum pulvinar neque eu malesuada. Suspendisse id urna justo, et bibendum purus. Pellentesque at eleifend purus.
</p>

<p>
Quisque interdum, nisl non ultricies imperdiet, purus diam tempor magna, ac mattis metus nisl id tortor. Sed adipiscing interdum leo, id ultrices sem porta pellentesque. Duis risus nunc, fringilla nec volutpat eget, viverra ac sem. Phasellus iaculis laoreet arcu, ut cursus tellus auctor eu. Sed vehicula dapibus nisi sed ullamcorper. Mauris non magna felis, at fringilla nisl. Integer ultricies convallis laoreet. Phasellus scelerisque orci a tellus sollicitudin faucibus. Aliquam pellentesque euismod turpis at egestas. Praesent ante dui, sodales in vulputate eu, scelerisque eget metus. Maecenas dignissim auctor volutpat. Nunc ut eros enim, vel commodo nibh. Nullam in lorem justo, eu vestibulum sem. 
</p>

        </div>

        <h2>Compressed Representation</h2>
        <div id="compressed">
        </div>

        <h2>Decompressed Text</h2>
        <div id="uncompressed">
        </div>

    </body>
</html>
